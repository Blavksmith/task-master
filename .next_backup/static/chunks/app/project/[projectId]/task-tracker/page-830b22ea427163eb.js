(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155);r(2115);var n=r(9708),i=r(2085),a=r(9434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:t,variant:r,size:i,asChild:d=!1,...l}=e,c=d?n.Slot:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,a.cn)(o({variant:r,size:i,className:t})),...l})}},1913:(e,t,r)=>{Promise.resolve().then(r.bind(r,5057))},4616:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5057:(e,t,r)=>{"use strict";r.d(t,{default:()=>_});var s=r(5155),n=r(285),i=r(6874),a=r.n(i),o=r(2115),d=r(4616),l=r(6126),c=r(9946);let u=(0,c.A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),h=(0,c.A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var g=r(869),p=r(2885),f=r(7494),v=r(845),m=r(1508);class x extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=e instanceof HTMLElement&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function b(e){let{children:t,isPresent:r,anchorX:n}=e,i=(0,o.useId)(),a=(0,o.useRef)(null),d=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,o.useContext)(m.Q);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:o,right:c}=d.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=i;let u=document.createElement("style");return l&&(u.nonce=l),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(i,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===n?"left: ".concat(o):"right: ".concat(c),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(u)}},[r]),(0,s.jsx)(x,{isPresent:r,childRef:a,sizeRef:d,children:o.cloneElement(t,{ref:a})})}let y=e=>{let{children:t,initial:r,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:d,mode:l,anchorX:c}=e,u=(0,p.M)(j),h=(0,o.useId)(),g=!0,f=(0,o.useMemo)(()=>(g=!1,{id:h,initial:r,isPresent:n,custom:a,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;i&&i()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[n,u,i]);return d&&g&&(f={...f}),(0,o.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[n]),o.useEffect(()=>{n||u.size||!i||i()},[n]),"popLayout"===l&&(t=(0,s.jsx)(b,{isPresent:n,anchorX:c,children:t})),(0,s.jsx)(v.t.Provider,{value:f,children:t})};function j(){return new Map}var k=r(2082);let w=e=>e.key||"";function N(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}let E=e=>{let{children:t,custom:r,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:d="sync",propagate:l=!1,anchorX:c="left"}=e,[u,h]=(0,k.xQ)(l),v=(0,o.useMemo)(()=>N(t),[t]),m=l&&!u?[]:v.map(w),x=(0,o.useRef)(!0),b=(0,o.useRef)(v),j=(0,p.M)(()=>new Map),[E,M]=(0,o.useState)(v),[P,C]=(0,o.useState)(v);(0,f.E)(()=>{x.current=!1,b.current=v;for(let e=0;e<P.length;e++){let t=w(P[e]);m.includes(t)?j.delete(t):!0!==j.get(t)&&j.set(t,!1)}},[P,m.length,m.join("-")]);let _=[];if(v!==E){let e=[...v];for(let t=0;t<P.length;t++){let r=P[t],s=w(r);m.includes(s)||(e.splice(t,0,r),_.push(r))}return"wait"===d&&_.length&&(e=_),C(N(e)),M(v),null}let{forceRender:z}=(0,o.useContext)(g.L);return(0,s.jsx)(s.Fragment,{children:P.map(e=>{let t=w(e),o=(!l||!!u)&&(v===P||m.includes(t));return(0,s.jsx)(y,{isPresent:o,initial:(!x.current||!!n)&&void 0,custom:r,presenceAffectsLayout:a,mode:d,onExitComplete:o?void 0:()=>{if(!j.has(t))return;j.set(t,!0);let e=!0;j.forEach(t=>{t||(e=!1)}),e&&(null==z||z(),C(b.current),l&&(null==h||h()),i&&i())},anchorX:c,children:e},t)})})};var M=r(5561);let P=function(e){let{title:t,tasks:r,onTaskAction:i,isPending:a}=e,o=e=>{switch(e){case"todo":return"Move to Progress";case"in_progress":return"Move to Done";case"done":return"Delete Task";default:return""}},d=e=>"done"===e?(0,s.jsx)(u,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(h,{className:"h-4 w-4 mr-2"}),c=e=>"done"===e?"bg-red-500 hover:bg-red-600 text-white":"bg-indigo-500 hover:bg-indigo-600 text-white";return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex flex-col bg-white rounded-lg shadow p-4",children:[(0,s.jsxs)("div",{className:"flex border-gray-200 p-4 justify-between items-center w-full",children:[(0,s.jsx)("h2",{className:"font-semibold text-gray-800",children:t}),(0,s.jsx)(l.E,{className:"bg-gray-200 hover:bg-gray-300 font-semibold text-gray-800 w-8 h-8",children:r.length})]}),(0,s.jsx)("div",{className:"p-4 space-y-8",children:(0,s.jsx)(E,{mode:"popLayout",children:r.map(e=>(0,s.jsxs)(M.P.div,{initial:{opacity:0,y:10,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.15,ease:"easeInOut"},className:"bg-white border border-gray-200 rounded-lg p-4 mb-3 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,s.jsx)(l.E,{className:"high"===e.priority?"bg-red-200 text-red-600":"medium"===e.priority?"bg-yellow-100 text-yellow-600":"bg-green-100 text-green-600",children:e.priority})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),(0,s.jsx)("div",{className:"flex justify-end mt-4",children:(0,s.jsxs)(n.$,{onClick:()=>i(e.id,e.status),className:"".concat(c(e.status)," transition-all duration-200 ease-in-out"),disabled:a,size:"sm",children:[d(e.status),(0,s.jsx)("span",{className:"text-xs",children:o(e.status)})]})})]},e.id))})})]})})};var C=r(6927);function _(e){let{params:t,initialTasks:r}=e,[i,l]=(0,o.useState)(r),[c,u]=(0,o.useTransition)(),h=async(e,t)=>{l(r=>r.map(r=>r.id===e?{...r,status:t}:r));try{let{error:r}=await C.N.from("tasks").update({status:t}).eq("id",e);r&&(console.error("Error updating task:",r),l(t=>t.map(t=>t.id===e?{...t,status:t.status}:t)))}catch(e){console.error("Error updating task:",e)}},g=async e=>{l(t=>t.filter(t=>t.id!==e));try{let{error:t}=await C.N.from("tasks").delete().eq("id",e);t&&console.error("Error deleting task:",t)}catch(e){console.error("Error deleting task:",e)}},p=(e,t)=>{u(()=>{"todo"===t?h(e,"in_progress"):"in_progress"===t?h(e,"done"):"done"===t&&g(e)})},f=(null==i?void 0:i.filter(e=>"todo"===e.status))||[],v=(null==i?void 0:i.filter(e=>"in_progress"===e.status))||[],m=(null==i?void 0:i.filter(e=>"done"===e.status))||[];return(0,s.jsx)("div",{children:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsxs)("div",{className:"container mx-auto px-8 py-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Task Tracker"}),(0,s.jsx)(a(),{href:"/project/".concat(t.projectId,"/task-tracker/new-task"),children:(0,s.jsxs)(n.$,{className:"bg-indigo-500 hover:bg-indigo-600 cursor-pointer",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-2"}),(0,s.jsx)("span",{children:"Add Task"})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsx)(P,{title:"Todo",tasks:f,onTaskAction:p,isPending:c}),(0,s.jsx)(P,{title:"In-Progress",tasks:v,onTaskAction:p,isPending:c}),(0,s.jsx)(P,{title:"Done",tasks:m,onTaskAction:p,isPending:c})]})]})})})}},6126:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var s=r(5155);r(2115);var n=r(9708),i=r(2085),a=r(9434);let o=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,asChild:i=!1,...d}=e,l=i?n.Slot:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,a.cn)(o({variant:r}),t),...d})}},6927:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});let s=(0,r(3579).createClientComponentClient)()},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(2596),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[37,778,579,561,441,684,358],()=>t(1913)),_N_E=e.O()}]);